# Camera Traps Release Notes

## Version 0.5.0
This major release expands the camera-traps application with a new functional mode, referred to as `demo` mode. 
Unlike the original simulation mode,
when operated in `demo` mode, the software relies on a 
real camera mounted and accessible as a Linux device. It
uses motion detection to drive the camera and
generate new images. 

Additionally, when running in demo mode, the software has support for detecting a specific object and notifying a downstream process via an MQTT message. In particular, this approach supports integrations with drones which can fly to a particular camera that has spotted an object of interest.

The major new components for this release include:

1. A new Image Detecting plugin, with Linux Motion software
for detecting motion and generating new images from a mounted camera.

2. A new Detection Reporter plugin, which determines if the configured object of interest has been detected (up to the configure confidence threshold). Detection Reporter maintains a CSV file of all detections.

3. A new CKN-MQTT Camera Traps container, which reads the 
output of the Detection Reporter and sends an MQTT message to the CKN broker for each detection. 

There were a number of additional major changes, including:

1. The installer has been substantially expanded to provide support for automatically installing all of the new components mentioned above. Additionally, the installer now recognizes a new configuration, `mode: demo`, to specify running in demo mode versus simulation mode. 

2. A number of improvements have been mode to the image scoring plugin and associated machine learning techniques. Support for a number of new models has been added, including support for ultralytics-based models. There is also support for running an ICICLE Model Commons "inference server" as a separate HTTP server container, aiding with plug-and-play. 

3. A number of quality of life improvements have been made, including reducing build times with better ways of updating file permissions in the container images. 


## Version 0.4.0
This major release expands the camera-traps application with several new capabilities:

1. New Oracle plugin for collecting ground truth data.
  * This plugin utilizes data about the image labels as well as events generated by all of the 
    other plugins to create a "image_mapping_final.json" file that can be used to evaluate the performance of individual plugins as well as the overall performance of the application. 

2. Incorporation of new CKN daemon for gathering performance data.
  * This program runs as a standalone process (a separate container) and sends performance data to the cloud 
    via a Kafka broker. 
  * It gathers data from the image_mapping_final.json file generated by the Oracle plugin. 

3. Several enhancements to the Image Scoring plugin:
  * Added support for streaming (input) data from a zip archive file defined by a publicly accessible URL. 
  * Added support for dynamically configuring the ML model; plugin will fetch the model (pt) files at 
    start up, as needed, from the URL specified by the CKN Model Graph API.

4. Overhaul of the existing Power Monitoring Plugin.
  * Support was added for the [Power Joular backend](https://github.com/joular/powerjoular), a production-grade power monitoring tool written in Ada. This mitigates concerns with the lack of maintenance of Scaphandre, which appears to be abandoned. 
  * The code for the plugin was completely rewritten to simplify maintenance and improve modularity and extensibility so that adding support for additional tools will be easier. 

5. New installer command-line program to facilitate installations with a high degree of customization. 

6. Complete integration test suite for end-to-end testing of the Camera Traps application (maintained in a separate repo).
  This test suite is triggered by GitHub actions. 

7. Added support for Jetson Nanos through a series of updates and code refactoring.


## Version 0.3.3

1. Implementation of power monitoring plugin for x86 and ARM architectures.
2. Implementation of oracle plugin to analyze simulation results.
2. Various bug fixes.

## Version 0.3.2

1. Runtime configuration updates, principally involving changes to the *releases* directory structure.
2. Improved release procedure documentation in top-level README file.

## Version 0.3.1

Interum release with Rust support for 2 new power monitoring events.

1. Removal of image_uuid field from ImageLabelScore type used in ImageScoredEvent.
2. MonitorPowerStartEvent and MonitorPowerStopEvent implemented in Rust (Python support in progress).
3. The image_store_plugin deletes files of all types associated with an image when that image is deleted.

## Version 0.3.0

Initial release of camera-traps images with the following features:

1. [Event Engine](https://github.com/tapis-project/event-engine) v0.2.0.
2. Internal Rust production plugins image_recv_plugin, image_store_plugin and observer_plugin.  The image_recv_plugin always writes the image to the configured images directory.  The image_store_plugin determines if an images, based on its score, should be kept or deleted.  If kept, its scores are written to a similarly named file with a *.score* suffix.
3. Internal Rust test plugins image_gen_plugin and image_score_plugin.  These plugins can be used when not running the cooresponding external plugins.
4. External Python production plugins image_gen_plugin and image_score_plugin. The image_gen_plugin injects serveral built-in images into the application and image_score_plugin calls the [Microsoft detector](https://github.com/microsoft/CameraTraps) with its [MegaDetector](https://github.com/microsoft/CameraTraps/blob/main/megadetector.md) model to score the images for animal content.
